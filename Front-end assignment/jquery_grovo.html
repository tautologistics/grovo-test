<!DOCTYPE html>
<html>
	<head>
		<title>The Sun</title>
		<style>
			body {font-size: 1em; margin: 2em;}
			.TheSun {display: none; margin-bottom: 1em;}
			.TheSun > div {display:block; height: 4em; width: 4em; background: #f69f1c; border-radius: 2em;}
			form {margin-top: 1em;}
			input {border: 1px solid #acacac; padding: 0.5em;}
			input:focus {border-color: orange;}
		</style>
	</head>
	<body>
		<div>
			<a href="#" class="StartTheDay">Start the day!</a>
			<div class="TheSun">
				<h3>The Sun Rises in the East and Sets in the West</h3>
				<div></div>
			</div>
			<form>
				<label for="CurrentTime">Current Time:</label>
				<input type="text" class="DefaultInput" id="CurrentTime" value="" tabindex="1"/>
			</form>
		</div>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script><!--
			jQuery(function ($) {
				var sunSettings = {
					//Selector to find the "sun" element
					//NOTE: Be sure to update this if the sun's id/class changes
	 				selector: '.TheSun',
	 				//Element to focus when "sun" is done doing its thang
	 				focusSelector: '#CurrentTime',
	 				//Timings for the various "sun" animations
					timings: {
						in: 2000,
						out: 2000,
						interstitial: 500
					},
					//Name of the "sun" animation queue
					queue: 'sunQueue'			
				};

				$('.StartTheDay').click(sunSettings, function (evt) {
					//This prevents changing the location URL's hash
					evt.preventDefault();

					var settings = evt.data;

					$(settings.selector)
						.fadeIn({
							queue: settings.queue,
							duration: settings.timings.in
						})
						.delay({
							queue: settings.queue,
							duration: settings.timings.interstitial
						})
						.fadeOut({
							queue: settings.queue,
							duration: settings.timings.out
						})
						/* Adds a custom action to the queue to put
						 * focus on the element specified by settings.focusSelector
						 */
						.queue(settings.queue, function (cb) {
							$(settings.focusSelector).focus();
							cb();
						})
						//Need to call this to get the queue draining
						.dequeue(settings.queue)
						;
				});
			});
		//--></script>
	</body>
</html>
